---
layout: single
title: 用度量的方法挖掘时间数据
date: 2024-11-05
author: listenzcc
categories: News
---

本文使用模拟采样和度量分析的方法对“第三次全国时间利用调查公报”的数据进行深入挖掘。得出的分析结果与日常生活的经验，或者说刻板印象是符合的，十分有趣。

[toc]

## 公开报表

这些是从公开报表中提取的已知信息，这些信息包括中国人从事 6 项活动的平均时间（`timesStr`）和参与率（`participantRatio`），其中参与率表示每 100 人中有多少人参与了这项活动。比如，有酬劳动的参与率为`54.1`代表参与调研的人员中有 $51.1\%$的人参与了这项活动。另外，平均时间是以时-分的形式表示的，因此需要以小数的形式换算为小时（`spendHours`）。比如，12 小时 27 分钟对应$12.45$小时。

![image.png](/assets/%E7%94%A8%E5%BA%A6%E9%87%8F%E7%9A%84%E6%96%B9%E6%B3%95%E6%8C%96%E6%8E%98%E6%97%B6%E9%97%B4%E6%95%B0%E6%8D%AE%20135dc9c7091480468ab8daf0b1951772/image.png)

## 挖掘目标与结果

这张表格的形式相当不令人满意，因为它除了提供了时间的边缘分布之外没有提供其他信息。所谓其他信息是一种联合信息，即花时间从事某项活动的人还花时间做了哪些其他的事情。比如人除了从事基本的生理活动之外，还可以在同一天从事劳动、学习、交通、自由支配等。

好在每个人一天的时间都是`24`小时，因此我也许有办法通过数值模拟的方法，从已有的公开信息中把感兴趣的联合信息提取出来。

## 模拟与度量分析

简单来讲，我采取的是生成模拟数据并随机采样的方法，利用符合约束的模拟数据回推联合特征。

### 生成模拟数据与随机采样

首先，我们已知的是从事某个活动的平均时间和参与率，从这两个指标中可以得到若干维度的信息，并生成对应的数值

- 首先，建立一个样本数量是 $N=10000$人的总体，每个人相互独立；
- 其次，对于某项活动来讲，可以按参与率 $r_i$计算出参与这项活动的人数 $n_i=N \times r_i$；
- 再次，假设这些人参与这项活动所花的时间服从正态分布 $t_i \sim \mathcal{N}(m_i, \delta_i^2)$，均值已知，方差未知。由于公开数据中完全不含有方差信息，因此我可以指定某个值作为方差。

这样生成的模拟数据用矩阵表示

$$
\tag{1} X \in \mathcal{R}^{N \times 6}
$$

矩阵中的每个元素代表这名成员在该项活动中所花费的时间

$$
x_{ij} \sim \mathcal{N}(m_i, \delta_i^2)
$$

为了方便起见，我首先将它们有序排列起来，如左图所示，颜色越亮代表所花费的时间越长，颜色越黑代表越短。

另外，我还能按每项活动对数据进行`shuffle`（随机地重新排序），如右图所示。经过`shuffle`之后的数据开始具有了一项非常有意思的特性，那就是矩阵按列相加得到的和数有可能等于 24

$$
\sum_{j=1}^{6} x_{ij} = 24 \text{(hours)}
$$

不难发现，这些行代表这些成员一天的时间“恰好”被这些活动占满。

![image.png](/assets/%E7%94%A8%E5%BA%A6%E9%87%8F%E7%9A%84%E6%96%B9%E6%B3%95%E6%8C%96%E6%8E%98%E6%97%B6%E9%97%B4%E6%95%B0%E6%8D%AE%20135dc9c7091480468ab8daf0b1951772/image%201.png)

### 采样结果归一化

我将这些行单独提取出来形成新的矩阵（`Good matrix`），得到左图矩阵。不难发现，在该矩阵中全部成员在各项活动中所花的时间与公开数据中的分布基本一致。进一步地，我还将矩阵按列进行归一化，目的是消除不同活动之间的绝对值差异。

![image.png](/assets/%E7%94%A8%E5%BA%A6%E9%87%8F%E7%9A%84%E6%96%B9%E6%B3%95%E6%8C%96%E6%8E%98%E6%97%B6%E9%97%B4%E6%95%B0%E6%8D%AE%20135dc9c7091480468ab8daf0b1951772/image%202.png)

![image.png](/assets/%E7%94%A8%E5%BA%A6%E9%87%8F%E7%9A%84%E6%96%B9%E6%B3%95%E6%8C%96%E6%8E%98%E6%97%B6%E9%97%B4%E6%95%B0%E6%8D%AE%20135dc9c7091480468ab8daf0b1951772/image%203.png)

### 度量分析

接下来计算各列的内积，并对内和进行归一化

$$
C_{ij} = \frac{X_{\cdot i}^T \cdot X_{\cdot j}}{X_{\cdot j}^T \cdot X_{\cdot j}}
$$

将活动之间的系数绘制成如下矩阵，它代表从事了某项活动（行）的成员，从事另一项活动（列）的比重，表现为参与概率较低或参与时间较少。从下图可以得到一些有意思的发现

- 首先，从事有酬劳动的成员几乎不参与，或者说没有时间参与学习培训；
- 其次，进行学习培训的成员几乎参与其他活动的比重也较小，尤其与有酬劳动互斥；
- 以上二者分别代表上班族和学生的一般状态；
- 而自由支配时间较多的成员则比较多地参与其他活动；
- 与之相对地，进行无酬劳动（**无酬劳动领域包括家务劳动、陪伴照料家人、购买商品或服务等活动大类以及劳动就业活动大类中的无酬实习等就业活动、社会交往大类中的公益志愿活动**）较多的成员则较少地参与其他活动。

我认为分析结果与日常生活的经验，或者说刻板印象是符合的，这很有意思。

![image.png](/assets/%E7%94%A8%E5%BA%A6%E9%87%8F%E7%9A%84%E6%96%B9%E6%B3%95%E6%8C%96%E6%8E%98%E6%97%B6%E9%97%B4%E6%95%B0%E6%8D%AE%20135dc9c7091480468ab8daf0b1951772/image%204.png)
